@let isMainPage = navigationService.isMainPage();
@let isLoggedIn = loginService.isLoggedIn();

<header class="header">
  <div class="header-container">
    <div class="header-controls">
      <app-custom-link customClass="to-main-link" icon="play_arrow" routerLink="/"></app-custom-link>

      <app-search></app-search>

      @if (isMainPage) {
        <app-custom-button
          attributeType="mat-mini-fab"
          icon="tune"
          customClass="settings-button"
          (click)="isSortVisible() ? isSortVisible.set(false) : isSortVisible.set(true)"
        ></app-custom-button>
      }
    </div>

    <div class="user-controls">
      @if (isLoggedIn) {
        <app-custom-link attributeType="mat-mini-fab" icon="star" routerLink="/favorites"></app-custom-link>
        <app-custom-link attributeType="mat-mini-fab" icon="admin_panel_settings" routerLink="/admin"></app-custom-link>
      }
      <app-user [isLoggedIn]="isLoggedIn"></app-user>
    </div>
  </div>

  <div class="sort-container" [class]="isSortVisible() && isMainPage ? 'sort-visible' : 'sort-hidden'">
    <app-sort></app-sort>
    <app-filter></app-filter>
  </div>
</header>
